import{j as e}from"./ui-4JzjGctU.js";import{r as h}from"./vendor-D63tyEUO.js";import{o as _,p as b,u as k,C as p,d as f,B as r,P as v,q as N,T as C,I as q}from"./index-CNtalSg2.js";/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],w=_("pen",A),S=({quote:a,isOpen:j,onSave:m,onClose:i})=>{const[l,u]=h.useState(a?.text||""),[o,c]=h.useState(a?.author||""),x=()=>{l.trim()&&(m({text:l.trim(),author:o.trim()||void 0}),u(""),c(""),i())};return j?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background rounded-lg shadow-lg max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:a?"Edit Quote":"Add New Quote"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Quote Text *"}),e.jsx(C,{value:l,onChange:d=>u(d.target.value),placeholder:"Enter the inspirational quote...",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Author (optional)"}),e.jsx(q,{value:o,onChange:d=>c(d.target.value),placeholder:"e.g., Maya Angelou"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(r,{variant:"outline",onClick:i,children:"Cancel"}),e.jsxs(r,{onClick:x,disabled:!l.trim(),children:[a?"Update":"Add"," Quote"]})]})]})]})}):null},M=()=>{const{quotes:a,loading:j,updateQuotes:m}=b(),[i,l]=h.useState(null),[u,o]=h.useState(!1),{toast:c}=k(),x=s=>{l({type:s}),o(!0)},d=(s,t,n)=>{l({quote:s,index:t,type:n}),o(!0)},g=async(s,t)=>{const n=[...a[t]];n.splice(s,1),(await m(t,n)).success?c({title:"Quote deleted",description:"Quote has been removed successfully."}):c({title:"Error",description:"Failed to delete quote. Please try again.",variant:"destructive"})},y=async s=>{if(!i?.type)return;const t=i.type,n=[...a[t]];i.index!==void 0?n[i.index]=s:n.push(s),(await m(t,n)).success?c({title:i.index!==void 0?"Quote updated":"Quote added",description:"Quote has been saved successfully."}):c({title:"Error",description:"Failed to save quote. Please try again.",variant:"destructive"})};return j?e.jsx("div",{className:"text-center py-4",children:"Loading quotes..."}):e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"mt-8",children:e.jsx(f,{className:"space-y-6 p-6",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium mt-2",children:"Fasting Timer Quotes"}),e.jsxs(r,{size:"sm",onClick:()=>x("fasting_timer_quotes"),children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Add"]})]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.fasting_timer_quotes.map((s,t)=>e.jsxs("div",{className:"flex items-start gap-3 p-2 border rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm italic",children:['"',s.text,'"']}),s.author&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["— ",s.author]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>d(s,t,"fasting_timer_quotes"),children:e.jsx(w,{className:"w-3 h-3"})}),e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>g(t,"fasting_timer_quotes"),children:e.jsx(N,{className:"w-3 h-3"})})]})]},t))}),e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[a.fasting_timer_quotes.length," quotes"]})]})})}),e.jsx(p,{className:"mt-8",children:e.jsxs(f,{className:"space-y-6 p-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium mt-2",children:"Walking Timer Quotes"}),e.jsxs(r,{size:"sm",onClick:()=>x("walking_timer_quotes"),children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Add"]})]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.walking_timer_quotes.map((s,t)=>e.jsxs("div",{className:"flex items-start gap-3 p-2 border rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm italic",children:['"',s.text,'"']}),s.author&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["— ",s.author]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>d(s,t,"walking_timer_quotes"),children:e.jsx(w,{className:"w-3 h-3"})}),e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>g(t,"walking_timer_quotes"),children:e.jsx(N,{className:"w-3 h-3"})})]})]},t))}),e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[a.walking_timer_quotes.length," quotes"]})]}),e.jsx(S,{quote:i?.quote,isOpen:u,onSave:y,onClose:()=>{o(!1),l(null)}})]})})]})};export{M as A};
