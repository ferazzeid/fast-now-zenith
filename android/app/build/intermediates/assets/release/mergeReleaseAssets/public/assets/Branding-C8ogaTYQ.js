const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./pwaCache-DJK29_KK.js","./index-D6Zlv4TB.js","./ui-4JzjGctU.js","./vendor-D63tyEUO.js","./supabase-DmvLFwnu.js","./index-Bg-672oM.css"])))=>i.map(i=>d[i]);
import{j as e}from"./ui-4JzjGctU.js";import{A as D}from"./AdminSubnav-DjjmxDuT.js";import{o as B,u as I,s as _,C as j,a as b,b as y,i as E,d as C,r as F,t as O,v as u,w as L,x as h,f as i,I as c,T as U,B as f,c as R,R as W,n as M}from"./index-D6Zlv4TB.js";import z from"./BrandAssetsManager-C1fya-Yq.js";import{ColorManagement as G}from"./ColorManagement-Cou3Y9PY.js";import{G as V,A as H}from"./AdminSEOSettings-BtcXM6KP.js";import{_ as Y}from"./supabase-DmvLFwnu.js";import{r as g}from"./vendor-D63tyEUO.js";import{S as P}from"./smartphone-Cfc1d1T-.js";/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],q=B("code",$),K=()=>{try{return console.log("ðŸ”¥ PRODUCTION MODE: NODE_ENV detected"),"production"}catch(t){return console.error("Environment detection failed, defaulting to production:",t),"production"}},J={appId:"com.fastnow.zenith",appName:"fast-now-zenith",displayName:"fast now - The No-BS Fat Loss Protocol",packageName:"com.fastnow.zenith",bundleId:"com.fastnow.zenith",webUrl:"",serverUrl:"",version:{code:1,name:"1.0.0"},nativeApp:{allowNavigation:["*"],fullscreen:!1,hideLogs:!1,loggingBehavior:"debug",immersiveMode:!1,hardwareAccelerated:!0,usesCleartextTraffic:!0},colors:{primary:"220 13% 45%",primaryHover:"220 13% 40%",primaryGlow:"220 13% 55%",accent:"220 13% 50%",aiColor:"220 13% 50%",secondary:"220 13% 40%",backgroundLight:"0 0% 96%",backgroundDark:"0 0% 11%",cardLight:"0 0% 98%",cardDark:"0 0% 10%"},android:{colorPrimary:"#6B7280",colorPrimaryDark:"#4B5563",colorAccent:"#6B7280",backgroundLight:"#F5F5F5",backgroundDark:"#1C1C1C"}},Q={appId:"com.fastnow.zenith",appName:"fast-now-zenith",displayName:"fast now - The No-BS Fat Loss Protocol",packageName:"com.fastnow.zenith",bundleId:"com.fastnow.zenith",webUrl:"https://go.fastnow.app",version:{code:114,name:"114"},nativeApp:{allowNavigation:["https://accounts.google.com/*","https://*.google.com/*","https://oauth2.googleapis.com/*","https://*.googleusercontent.com/*","https://oauth.googleusercontent.com/*","https://appleid.apple.com/*","https://*.supabase.co/*","com.fastnow.zenith://*"],fullscreen:!1,hideLogs:!1,loggingBehavior:"production",immersiveMode:!0,hardwareAccelerated:!0,usesCleartextTraffic:!1},colors:{primary:"220 13% 45%",primaryHover:"220 13% 40%",primaryGlow:"220 13% 55%",accent:"220 13% 50%",aiColor:"220 13% 50%",secondary:"220 13% 40%",backgroundLight:"0 0% 96%",backgroundDark:"0 0% 11%",cardLight:"0 0% 98%",cardDark:"0 0% 10%"},android:{colorPrimary:"#6B7280",colorPrimaryDark:"#4B5563",colorAccent:"#6B7280",backgroundLight:"#F5F5F5",backgroundDark:"#1C1C1C"}},d=()=>K()==="production"?Q:J,X=()=>{const[t,p]=g.useState({appName:"",shortName:"",description:"",appId:"",internalName:"",appIcon:"",favicon:"",logo:"",themeColor:"",backgroundColor:"",webUrl:""}),[r,x]=g.useState(!0),[v,k]=g.useState(!1),{toast:m}=I();g.useEffect(()=>{A()},[]);const A=async()=>{try{const{data:a,error:l}=await _.from("shared_settings").select("setting_key, setting_value").in("setting_key",["pwa_app_name","pwa_short_name","pwa_description","app_id","app_internal_name","app_icon_url","app_favicon","app_logo","pwa_theme_color","pwa_background_color","app_web_url"]);if(l){console.error("Error loading app settings:",l),w();return}w();const o={...t};a?.forEach(s=>{switch(s.setting_key){case"pwa_app_name":o.appName=s.setting_value||"FastNow - Mindful App";break;case"pwa_short_name":o.shortName=s.setting_value||"FastNow";break;case"pwa_description":o.description=s.setting_value||"Your mindful app with AI-powered motivation";break;case"app_id":o.appId=s.setting_value||d().appId;break;case"app_internal_name":o.internalName=s.setting_value||d().appName;break;case"app_icon_url":o.appIcon=s.setting_value||"";break;case"app_favicon":o.favicon=s.setting_value||"";break;case"app_logo":o.logo=s.setting_value||"";break;case"pwa_theme_color":o.themeColor=s.setting_value||d().android.colorPrimary;break;case"pwa_background_color":o.backgroundColor=s.setting_value||d().android.backgroundLight;break;case"app_web_url":o.webUrl=s.setting_value||d().serverUrl||"";break}}),p(o)}catch(a){console.error("Error loading app settings:",a),w()}finally{x(!1)}},w=()=>{const a=d();p({appName:a.displayName,shortName:"FastNow",description:"Your mindful app with AI-powered motivation",appId:a.appId,internalName:a.appName,appIcon:"",favicon:"",logo:"",themeColor:a.android.colorPrimary,backgroundColor:a.android.backgroundLight,webUrl:a.serverUrl||""})},n=(a,l)=>{p(o=>({...o,[a]:l}))},S=async()=>{k(!0);try{const a=[{setting_key:"pwa_app_name",setting_value:t.appName},{setting_key:"pwa_short_name",setting_value:t.shortName},{setting_key:"pwa_description",setting_value:t.description},{setting_key:"app_id",setting_value:t.appId},{setting_key:"app_internal_name",setting_value:t.internalName},{setting_key:"app_icon_url",setting_value:t.appIcon},{setting_key:"app_favicon",setting_value:t.favicon},{setting_key:"app_logo",setting_value:t.logo},{setting_key:"pwa_theme_color",setting_value:t.themeColor},{setting_key:"pwa_background_color",setting_value:t.backgroundColor},{setting_key:"app_web_url",setting_value:t.webUrl}];for(const s of a){const{error:N}=await _.from("shared_settings").upsert(s,{onConflict:"setting_key"});if(N)throw console.error("Error saving app setting:",N),N}const{forcePWARefresh:l}=await Y(async()=>{const{forcePWARefresh:s}=await import("./pwaCache-DJK29_KK.js");return{forcePWARefresh:s}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url);await l()?console.log("PWA cache refreshed successfully"):console.warn("PWA cache refresh had issues, but settings were saved"),m({title:"âœ… Settings Saved!",description:"App identity settings updated successfully. PWA manifest refreshed - try 'Add to Home Screen' again!"})}catch(a){console.error("Error saving app settings:",a),m({title:"Error",description:`Failed to save settings: ${a.message}`,variant:"destructive"})}finally{k(!1)}},T=async()=>{try{const a=`import type { CapacitorConfig } from '@capacitor/cli';

const config: CapacitorConfig = {
  appId: '${t.appId}',
  appName: '${t.internalName}',
  webDir: 'dist',
  server: {
    url: '${t.webUrl}',
    cleartext: true
  },
  plugins: {
    SplashScreen: {
      launchShowDuration: 0
    },
    StatusBar: {
      style: 'default'
    }
  }
};

export default config;`;await _.from("shared_settings").upsert({setting_key:"capacitor_config_content",setting_value:a},{onConflict:"setting_key"}),m({title:"ðŸš€ Capacitor Config Generated!",description:"The capacitor.config.ts file content has been generated. Copy it to your local project after exporting to GitHub."})}catch(a){console.error("Error generating capacitor config:",a),m({title:"Error",description:"Failed to generate Capacitor config",variant:"destructive"})}};return r?e.jsxs(j,{children:[e.jsx(b,{children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5"}),"App Identity & Branding"]})}),e.jsx(C,{className:"flex items-center justify-center py-8",children:e.jsx("span",{className:"text-muted-foreground",children:"Loading..."})})]}):e.jsxs(j,{children:[e.jsxs(b,{children:[e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5"}),"App Identity & Branding"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure your app's name, icons, and branding across all platforms"})]}),e.jsxs(C,{children:[e.jsxs(F,{defaultValue:"identity",className:"w-full",children:[e.jsxs(O,{className:"grid w-full grid-cols-4",children:[e.jsxs(u,{value:"identity",className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-4 h-4"}),"Identity"]}),e.jsxs(u,{value:"assets",className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-4 h-4"}),"Assets"]}),e.jsxs(u,{value:"pwa",className:"flex items-center gap-1",children:[e.jsx(V,{className:"w-4 h-4"}),"PWA"]}),e.jsxs(u,{value:"native",className:"flex items-center gap-1",children:[e.jsx(q,{className:"w-4 h-4"}),"Native"]})]}),e.jsxs(h,{value:"identity",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"appName",children:"App Name (Full)"}),e.jsx(c,{id:"appName",value:t.appName,onChange:a=>n("appName",a.target.value),placeholder:"FastNow - Mindful App"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"The full name shown in app stores and browser tabs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"shortName",children:"Short Name"}),e.jsx(c,{id:"shortName",value:t.shortName,onChange:a=>n("shortName",a.target.value),placeholder:"FastNow"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Short name for home screen icons (12 characters max)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(U,{id:"description",value:t.description,onChange:a=>n("description",a.target.value),placeholder:"Your mindful app with AI-powered motivation",rows:3}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"App description for app stores and PWA install prompts"})]})]}),e.jsx(h,{value:"assets",className:"space-y-6 mt-6",children:e.jsx("div",{className:"p-4 border border-border rounded-lg bg-muted/20",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ðŸ”„ ",e.jsx("strong",{children:"Note:"}),' Asset uploads have been moved to the dedicated "Brand Assets" section below to avoid conflicts. Use the Brand Assets Manager below for uploading your app icon, favicon, and logo.']})})}),e.jsxs(h,{value:"pwa",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"themeColor",children:"Theme Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{id:"themeColor",value:t.themeColor,onChange:a=>n("themeColor",a.target.value),placeholder:"#8B7355"}),e.jsx("input",{type:"color",value:t.themeColor,onChange:a=>n("themeColor",a.target.value),className:"w-12 h-10 rounded border border-input"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Browser and status bar theme color"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{id:"backgroundColor",value:t.backgroundColor,onChange:a=>n("backgroundColor",a.target.value),placeholder:"#F5F2EA"}),e.jsx("input",{type:"color",value:t.backgroundColor,onChange:a=>n("backgroundColor",a.target.value),className:"w-12 h-10 rounded border border-input"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Splash screen background color"})]})]}),e.jsxs(h,{value:"native",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"appId",children:"App ID (Bundle Identifier)"}),e.jsx(c,{id:"appId",value:t.appId,onChange:a=>n("appId",a.target.value),placeholder:"com.fastnow.zenith"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique identifier for app stores (reverse domain format)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"internalName",children:"Internal Name"}),e.jsx(c,{id:"internalName",value:t.internalName,onChange:a=>n("internalName",a.target.value),placeholder:"fast-now-zenith"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Internal project name (kebab-case, no spaces)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"webUrl",children:"Development URL"}),e.jsx(c,{id:"webUrl",value:t.webUrl,onChange:a=>n("webUrl",a.target.value),placeholder:"https://..."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Live reload URL for development"})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx(f,{onClick:T,variant:"outline",className:"w-full",children:"Generate Capacitor Config"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Generate capacitor.config.ts content for your local project"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-6 mt-6 border-t",children:[e.jsx(f,{onClick:S,disabled:v,className:"flex-1",children:v?"Saving...":"Save All Settings"}),e.jsx(f,{onClick:A,variant:"outline",disabled:v,children:"Reset"})]})]})]})},Z=()=>{const{toast:t}=I(),p=async()=>{try{if("caches"in window){const r=await caches.keys();for(const x of r)await caches.delete(x)}if("serviceWorker"in navigator){const r=await navigator.serviceWorker.ready;r&&(await r.update(),r.active&&r.active.postMessage({type:"SKIP_WAITING"}))}setTimeout(()=>{location.reload()},1e3),t({title:"PWA Cache Refreshed",description:"Your app will reload with the latest assets. Changes to icons may take effect after reinstalling the app."})}catch(r){console.error("Error refreshing PWA cache:",r),t({title:"Error",description:"Failed to refresh PWA cache. Please try again.",variant:"destructive"})}};return e.jsxs(j,{children:[e.jsxs(b,{children:[e.jsxs(y,{className:"text-base font-medium flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"PWA Management"]}),e.jsx(R,{children:"Update your app's home screen icon and manifest"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("p",{className:"mb-2",children:"After updating your logo or app settings:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[e.jsx("li",{children:'Click "Refresh PWA Cache" below'}),e.jsx("li",{children:"Remove the app from your home screen (if already installed)"}),e.jsx("li",{children:"Add the app to home screen again to see the new icon"})]})]}),e.jsxs(f,{onClick:p,variant:"outline",className:"w-full",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Refresh PWA Cache"]})]})]})};function le(){return M({title:"Admin Branding â€“ Logos, Colors & SEO",description:"Manage brand assets, color themes, and SEO settings.",canonicalPath:"/admin/branding"}),e.jsxs("main",{className:"container mx-auto p-6 space-y-8 overflow-x-hidden bg-background min-h-[calc(100vh-80px)]",role:"main",children:[e.jsx("h1",{className:"sr-only",children:"Admin Branding"}),e.jsx(D,{}),e.jsx("section",{"aria-label":"App identity and branding settings",children:e.jsx(X,{})}),e.jsx("section",{"aria-label":"Brand assets",children:e.jsx(z,{})}),e.jsx("section",{"aria-label":"PWA management",children:e.jsx(Z,{})}),e.jsx("section",{"aria-label":"Color management",children:e.jsx(G,{})}),e.jsxs("section",{"aria-label":"SEO settings",className:"pb-24",children:[e.jsx(H,{}),e.jsx("div",{className:"h-8"})]})]})}export{le as default};
//# sourceMappingURL=Branding-C8ogaTYQ.js.map
