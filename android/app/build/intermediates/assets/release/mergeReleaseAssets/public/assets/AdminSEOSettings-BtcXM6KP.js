import{j as e}from"./ui-4JzjGctU.js";import{r as g}from"./vendor-D63tyEUO.js";import{o as v,u as N,s as r,C as x,a as m,b as p,aa as f,d as u,c as C,f as _,S as j}from"./index-D6Zlv4TB.js";/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],S=v("globe",k),P=()=>{const[l,o]=g.useState({indexHomepage:!1,indexOtherPages:!1}),[y,w]=g.useState(!0),{toast:d}=N();g.useEffect(()=>{E()},[]);const E=async()=>{try{const{data:s,error:t}=await r.from("shared_settings").select("setting_key, setting_value").in("setting_key",["seo_index_homepage","seo_index_other_pages"]);if(t)throw t;if(s){const n=s.reduce((i,a)=>(i[a.setting_key]=a.setting_value==="true",i),{});o({indexHomepage:n.seo_index_homepage||!1,indexOtherPages:n.seo_index_other_pages||!1})}}catch(s){console.error("Failed to fetch SEO settings:",s),d({title:"Error",description:"Failed to load SEO settings",variant:"destructive"})}finally{w(!1)}},h=async(s,t)=>{try{const{data:n,error:i}=await r.from("shared_settings").select("id").eq("setting_key",s).maybeSingle();if(i&&i.code!=="PGRST116")throw i;let a;if(n){const{error:c}=await r.from("shared_settings").update({setting_value:t.toString()}).eq("setting_key",s);a=c}else{const{error:c}=await r.from("shared_settings").insert({setting_key:s,setting_value:t.toString()});a=c}if(a)throw a;d({title:"Settings Updated",description:"SEO indexing settings have been saved"})}catch(n){console.error("Failed to update SEO setting:",n),d({title:"Error",description:"Failed to update SEO settings",variant:"destructive"})}},O=async s=>{o(t=>({...t,indexHomepage:s})),await h("seo_index_homepage",s)},b=async s=>{o(t=>({...t,indexOtherPages:s})),await h("seo_index_other_pages",s)};return y?e.jsxs(x,{children:[e.jsx(m,{children:e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"h-5 w-5"}),"SEO Indexing Settings"]})}),e.jsx(u,{children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-8 bg-muted rounded"})]})})]}):e.jsxs(x,{children:[e.jsxs(m,{children:[e.jsxs(p,{className:"text-base font-medium flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"SEO Indexing Settings"]}),e.jsx(C,{children:"Control search engine indexing for different pages"})]}),e.jsxs(u,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(_,{htmlFor:"homepage-indexing",className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"})," Homepage Indexing"]}),e.jsx(j,{id:"homepage-indexing",checked:l.indexHomepage,onCheckedChange:O})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(_,{htmlFor:"other-pages-indexing",className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"})," Other Pages Indexing"]}),e.jsx(j,{id:"other-pages-indexing",checked:l.indexOtherPages,onCheckedChange:b})]})]})]})},I=Object.freeze(Object.defineProperty({__proto__:null,AdminSEOSettings:P},Symbol.toStringTag,{value:"Module"}));export{P as A,S as G,I as a};
//# sourceMappingURL=AdminSEOSettings-BtcXM6KP.js.map
